cognitive_services_account = {
  csa_account_1 = {
    resource_group = {
      # accepts either id or key to get resource group id
      # id = "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/resourceGroup1"
      # lz_key = "examples"
      key = "cognitiveservices_rg_re1"
    }
    name     = "cs-alz-caf-test-1"
    kind     = "ComputerVision"
    sku_name = "F0"
    tags = {
      env = "test"
    }
    # custom_subdomain_name = "cs-alz-caf-test-1"
    # network_acls = {
    #   default_action = "Allow"
    #   ip_rules       = ["10.10.10.0/16"]
    # }

    network_acls = {
      # default_action = "Allow"
      # ip_rules       = ["10.10.10.0/16"]
      virtual_network_rules = {

{% if gcc_platform | trim == '1' %}
        subnet_id = "/subscriptions/{{subscription_id}}/resourceGroups/{{resource_group_name}}/providers/Microsoft.Network/virtualNetworks/{{internet_vnet_name}}/subnets/{{prefix}}-snet-app-internet"
{% else %}
        vnet_key = "vnet_spoke_internet_re1"
        subnet_key = "app_internet_subnet"
        lz_key = "networking_spoke_internet"    
        # subnet_id = "/subscriptions/{{subscription_id}}/resourceGroups/{{resource_group_name}}/providers/Microsoft.Network/virtualNetworks/{{internet_vnet_name}}/subnets/{{prefix}}-snet-app-internet"
{% endif %}


      }
    }

  }
  csa_account_2 = {
    resource_group = {
      # accepts either id or key to get resource group id
      # id = "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/resourceGroup1"
      # lz_key = "examples"
      key = "cognitiveservices_rg_re1"
    }
    name     = "cs-alz-caf-test-2"
    kind     = "QnAMaker"
    sku_name = "F0"
    tags = {
      env = "test"
    }
    qna_runtime_endpoint = "https://cs-alz-caf-test-2.azurewebsites.net"

    network_acls = {
      # default_action = "Allow"
      # ip_rules       = ["10.10.10.0/16"]
      virtual_network_rules = {

{% if gcc_platform | trim == '1' %}
        subnet_id = "/subscriptions/{{subscription_id}}/resourceGroups/{{resource_group_name}}/providers/Microsoft.Network/virtualNetworks/{{internet_vnet_name}}/subnets/{{prefix}}-snet-app-internet"
{% else %}
        vnet_key = "vnet_spoke_internet_re1"
        subnet_key = "app_internet_subnet"
        lz_key = "networking_spoke_internet"    
        # subnet_id = "/subscriptions/{{subscription_id}}/resourceGroups/{{resource_group_name}}/providers/Microsoft.Network/virtualNetworks/{{internet_vnet_name}}/subnets/{{prefix}}-snet-app-internet"
{% endif %}

      }
    }

  }
}

